// SPDX-License-Identifier: MIT
pragma solidity ^0.8.18;

import "@openzeppelin/contracts/utils/Base64.sol";

contract ArtGenerator {

    function renderSvg(string memory fingerprint) public pure returns (string memory svg) {
        svg = '<svg width="150" height="150" viewBox="0 0 15 15" xmlns="http://www.w3.org/2000/svg"><rect width="15" height="15" fill="#0C0C0C"/><g class="tiles"><rect id="p1" x="3" y="3" fill="#fff"/><rect id="p2" x="4" y="3" fill="#fff"/><rect id="p3" x="5" y="3" fill="#fff"/><rect id="p4" x="6" y="3" fill="#fff"/><rect id="p5" x="7" y="3" fill="#fff"/><rect id="p6" x="8" y="3" fill="#fff"/><rect id="p7" x="9" y="3" fill="#fff"/><rect id="p8" x="10" y="3" fill="#fff"/><rect id="p9" x="11" y="3" fill="#fff"/><rect id="p10" x="3" y="4" fill="#fff"/><rect id="p11" x="4" y="4" fill="#fff"/><rect id="p12" x="5" y="4" fill="#fff"/><rect id="p13" x="6" y="4" fill="#fff"/><rect id="p14" x="7" y="4" fill="#fff"/><rect id="p15" x="8" y="4" fill="#fff"/><rect id="p16" x="9" y="4" fill="#fff"/><rect id="p17" x="10" y="4" fill="#fff"/><rect id="p18" x="11" y="4" fill="#fff"/><rect id="p19" x="3" y="5" fill="#fff"/><rect id="p20" x="4" y="5" fill="#fff"/><rect id="p21" x="5" y="5" fill="#fff"/><rect id="p22" x="6" y="5" fill="#fff"/><rect id="p23" x="7" y="5" fill="#fff"/><rect id="p24" x="8" y="5" fill="#fff"/><rect id="p25" x="9" y="5" fill="#fff"/><rect id="p26" x="10" y="5" fill="#fff"/><rect id="p27" x="11" y="5" fill="#fff"/><rect id="p28" x="3" y="6" fill="#fff"/><rect id="p29" x="4" y="6" fill="#fff"/><rect id="p30" x="5" y="6" fill="#fff"/><rect id="p31" x="6" y="6" fill="#fff"/><rect id="p32" x="7" y="6" fill="#fff"/><rect id="p33" x="8" y="6" fill="#fff"/><rect id="p34" x="9" y="6" fill="#fff"/><rect id="p35" x="10" y="6" fill="#fff"/><rect id="p36" x="11" y="6" fill="#fff"/><rect id="p37" x="3" y="7" fill="#fff"/><rect id="p38" x="4" y="7" fill="#fff"/><rect id="p39" x="5" y="7" fill="#fff"/><rect id="p40" x="6" y="7" fill="#fff"/><rect id="p41" x="7" y="7" fill="#fff"/><rect id="p42" x="8" y="7" fill="#fff"/><rect id="p43" x="9" y="7" fill="#fff"/><rect id="p44" x="10" y="7" fill="#fff"/><rect id="p45" x="11" y="7" fill="#fff"/><rect id="p46" x="3" y="8" fill="#fff"/><rect id="p47" x="4" y="8" fill="#fff"/><rect id="p48" x="5" y="8" fill="#fff"/><rect id="p49" x="6" y="8" fill="#fff"/><rect id="p50" x="7" y="8" fill="#fff"/><rect id="p51" x="8" y="8" fill="#fff"/><rect id="p52" x="9" y="8" fill="#fff"/><rect id="p53" x="10" y="8" fill="#fff"/><rect id="p54" x="11" y="8" fill="#fff"/><rect id="p55" x="3" y="9" fill="#fff"/><rect id="p56" x="4" y="9" fill="#fff"/><rect id="p57" x="5" y="9" fill="#fff"/><rect id="p58" x="6" y="9" fill="#fff"/><rect id="p59" x="7" y="9" fill="#fff"/><rect id="p60" x="8" y="9" fill="#fff"/><rect id="p61" x="9" y="9" fill="#fff"/><rect id="p62" x="10" y="9" fill="#fff"/><rect id="p63" x="11" y="9" fill="#fff"/><rect id="p64" x="3" y="10" fill="#fff"/><rect id="p65" x="4" y="10" fill="#fff"/><rect id="p66" x="5" y="10" fill="#fff"/><rect id="p67" x="6" y="10" fill="#fff"/><rect id="p68" x="7" y="10" fill="#fff"/><rect id="p69" x="8" y="10" fill="#fff"/><rect id="p70" x="9" y="10" fill="#fff"/><rect id="p71" x="10" y="10" fill="#fff"/><rect id="p72" x="11" y="10" fill="#fff"/><rect id="p73" x="3" y="11" fill="#fff"/><rect id="p74" x="4" y="11" fill="#fff"/><rect id="p75" x="5" y="11" fill="#fff"/><rect id="p76" x="6" y="11" fill="#fff"/><rect id="p77" x="7" y="11" fill="#fff"/><rect id="p78" x="8" y="11" fill="#fff"/><rect id="p79" x="9" y="11" fill="#fff"/><rect id="p80" x="10" y="11" fill="#fff"/><rect id="p81" x="11" y="11" fill="#fff"/></g><g class="grid"><line x1="1.005" y1="-2.18557e-10" x2="1.005" y2="15"/><line x1="2.005" y1="-2.18557e-10" x2="2.005" y2="15"/><line x1="3.005" y1="-2.18557e-10" x2="3.005" y2="15"/><line x1="4.005" y1="-2.18557e-10" x2="4.005" y2="15"/><line x1="5.005" y1="-2.18557e-10" x2="5.005" y2="15"/><line x1="6.005" y1="-2.18557e-10" x2="6.005" y2="15"/><line x1="7.005" y1="-2.18557e-10" x2="7.005" y2="15"/><line x1="8.005" y1="-2.18557e-10" x2="8.005" y2="15"/><line x1="9.005" y1="-2.18557e-10" x2="9.005" y2="15"/><line x1="10.005" y1="-2.18557e-10" x2="10.005" y2="15"/><line x1="11.005" y1="-2.18557e-10" x2="11.005" y2="15"/><line x1="12.005" y1="-2.18557e-10" x2="12.005" y2="15"/><line x1="13.005" y1="-2.18557e-10" x2="13.005" y2="15"/><line x1="14.005" y1="-2.18557e-10" x2="14.005" y2="15"/><line x1="15" y1="1.005" y2="1.005"/><line x1="15" y1="2.005" y2="2.005"/><line x1="15" y1="3.005" y2="3.005"/><line x1="15" y1="4.005" y2="4.005"/><line x1="15" y1="5.005" y2="5.005"/><line x1="15" y1="6.005" y2="6.005"/><line x1="15" y1="7.005" y2="7.005"/><line x1="15" y1="8.005" y2="8.005"/><line x1="15" y1="9.005" y2="9.005"/><line x1="15" y1="10.005" y2="10.005"/><line x1="15" y1="11.005" y2="11.005"/><line x1="15" y1="12.005" y2="12.005"/><line x1="15" y1="13.005" y2="13.005"/><line x1="15" y1="14.005" y2="14.005"/></g><style>.tiles rect{width:1px;height:1px;}.grid{stroke:#222;stroke-width:.01;';
        svg = string(abi.encodePacked(
            svg,
            fingerprint
        ));
    }

    function tokenURI(uint256 tokenId) public view virtual override returns (string memory result) {
        string memory svg = '<svg width="1500" height="1500" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="mona" clip-path="url(#clip0_435_97852)"><rect width="15" height="15" fill="#0C0C0C"/><rect id="top-left" x="3" y="3" width="1" height="1" fill="#67784A"/><rect id="top-left_2" x="3" y="4" width="1" height="1" fill="#899362"/><rect id="top-left_3" x="3" y="5" width="1" height="1" fill="#7D845A"/><rect id="top-left_4" x="3" y="6" width="1" height="1" fill="#60664D"/><rect id="top-left_5" x="3" y="7" width="1" height="1" fill="#534B35"/><rect id="top-left_6" x="3" y="8" width="1" height="1" fill="#675647"/><rect id="top-left_7" x="3" y="9" width="1" height="1" fill="#553422"/><rect id="top-left_8" x="3" y="10" width="1" height="1" fill="#6B281E"/><rect id="top-left_9" x="3" y="11" width="1" height="1" fill="#8D543C"/><rect id="top-left_10" x="4" y="3" width="1" height="1" fill="#708150"/><rect id="top-left_11" x="4" y="4" width="1" height="1" fill="#929662"/><rect id="top-left_12" x="4" y="5" width="1" height="1" fill="#B9B983"/><rect id="top-left_13" x="4" y="6" width="1" height="1" fill="#50533D"/><rect id="top-left_14" x="4" y="7" width="1" height="1" fill="#484431"/><rect id="top-left_15" x="4" y="8" width="1" height="1" fill="#63532A"/><rect id="top-left_16" x="4" y="9" width="1" height="1" fill="#A98C3F"/><rect id="top-left_17" x="4" y="10" width="1" height="1" fill="#83412E"/><rect id="top-left_18" x="4" y="11" width="1" height="1" fill="#2E1E29"/><rect id="top-left_19" x="5" y="3" width="1" height="1" fill="#586231"/><rect id="top-left_20" x="5" y="4" width="1" height="1" fill="#989B5E"/><rect id="top-left_21" x="5" y="5" width="1" height="1" fill="#989960"/><rect id="top-left_22" x="5" y="6" width="1" height="1" fill="#5E5B3A"/><rect id="top-left_23" x="5" y="7" width="1" height="1" fill="#5B5A3F"/><rect id="top-left_24" x="5" y="8" width="1" height="1" fill="#3F2C22"/><rect id="top-left_25" x="5" y="9" width="1" height="1" fill="#291B2B"/><rect id="top-left_26" x="5" y="10" width="1" height="1" fill="#533A1E"/><rect id="top-left_27" x="5" y="11" width="1" height="1" fill="#2C2233"/><rect id="top-left_28" x="6" y="3" width="1" height="1" fill="#6C753B"/><rect id="top-left_29" x="6" y="4" width="1" height="1" fill="#61411E"/><rect id="top-left_30" x="6" y="5" width="1" height="1" fill="#CAA34F"/><rect id="top-left_31" x="6" y="6" width="1" height="1" fill="#D7AD57"/><rect id="top-left_32" x="6" y="7" width="1" height="1" fill="#8B5B2A"/><rect id="top-left_33" x="6" y="8" width="1" height="1" fill="#36181E"/><rect id="top-left_34" x="6" y="9" width="1" height="1" fill="#CEAE4C"/><rect id="top-left_35" x="6" y="10" width="1" height="1" fill="#7B6345"/><rect id="top-left_36" x="6" y="11" width="1" height="1" fill="#4B3A3B"/><rect id="top-left_37" x="7" y="3" width="1" height="1" fill="#6B7A47"/><rect id="top-left_38" x="7" y="4" width="1" height="1" fill="#5A391E"/><rect id="top-left_39" x="7" y="5" width="1" height="1" fill="#BD953D"/><rect id="top-left_40" x="7" y="6" width="1" height="1" fill="#C3963E"/><rect id="top-left_41" x="7" y="7" width="1" height="1" fill="#AB823E"/><rect id="top-left_42" x="7" y="8" width="1" height="1" fill="#A38035"/><rect id="top-left_43" x="7" y="9" width="1" height="1" fill="#F2D374"/><rect id="top-left_44" x="7" y="10" width="1" height="1" fill="#997142"/><rect id="top-left_45" x="7" y="11" width="1" height="1" fill="#3B2C26"/><rect id="top-left_46" x="8" y="3" width="1" height="1" fill="#697A4C"/><rect id="top-left_47" x="8" y="4" width="1" height="1" fill="#2C1210"/><rect id="top-left_48" x="8" y="5" width="1" height="1" fill="#1B0D18"/><rect id="top-left_49" x="8" y="6" width="1" height="1" fill="#1A0914"/><rect id="top-left_50" x="8" y="7" width="1" height="1" fill="#2D1D27"/><rect id="top-left_51" x="8" y="8" width="1" height="1" fill="#49230F"/><rect id="top-left_52" x="8" y="9" width="1" height="1" fill="#83510D"/><rect id="top-left_53" x="8" y="10" width="1" height="1" fill="#604A29"/><rect id="top-left_54" x="8" y="11" width="1" height="1" fill="#362B34"/><rect id="top-left_55" x="9" y="3" width="1" height="1" fill="#78844F"/><rect id="top-left_56" x="9" y="4" width="1" height="1" fill="#777D49"/><rect id="top-left_57" x="9" y="5" width="1" height="1" fill="#96955E"/><rect id="top-left_58" x="9" y="6" width="1" height="1" fill="#4D5537"/><rect id="top-left_59" x="9" y="7" width="1" height="1" fill="#4D5840"/><rect id="top-left_60" x="9" y="8" width="1" height="1" fill="#1E1320"/><rect id="top-left_61" x="9" y="9" width="1" height="1" fill="#916F2F"/><rect id="top-left_62" x="9" y="10" width="1" height="1" fill="#3D323B"/><rect id="top-left_63" x="9" y="11" width="1" height="1" fill="#2E2028"/><rect id="top-left_64" x="10" y="3" width="1" height="1" fill="#607045"/><rect id="top-left_65" x="11" y="3" width="1" height="1" fill="#75814F"/><rect id="top-left_66" x="10" y="4" width="1" height="1" fill="#898D56"/><rect id="top-left_67" x="11" y="4" width="1" height="1" fill="#959961"/><rect id="top-left_68" x="10" y="5" width="1" height="1" fill="#76783C"/><rect id="top-left_69" x="11" y="5" width="1" height="1" fill="#B3B376"/><rect id="top-left_70" x="10" y="6" width="1" height="1" fill="#71835C"/><rect id="top-left_71" x="11" y="6" width="1" height="1" fill="#93976D"/><rect id="top-left_72" x="10" y="7" width="1" height="1" fill="#5F6A65"/><rect id="top-left_73" x="11" y="7" width="1" height="1" fill="#555543"/><rect id="top-left_74" x="10" y="8" width="1" height="1" fill="#5D6140"/><rect id="top-left_75" x="11" y="8" width="1" height="1" fill="#5C5941"/><rect id="top-left_76" x="10" y="9" width="1" height="1" fill="#674927"/><rect id="top-left_77" x="11" y="9" width="1" height="1" fill="#AD9055"/><rect id="top-left_78" x="10" y="10" width="1" height="1" fill="#1B1125"/><rect id="top-left_79" x="10" y="11" width="1" height="1" fill="#1F1A2C"/><rect id="top-left_80" x="11" y="10" width="1" height="1" fill="#733E31"/><rect id="top-left_81" x="11" y="11" width="1" height="1" fill="#59352F"/><g id="Group 3"><g id="Group 1"><line id="Line 1" x1="1.005" y1="-2.18557e-10" x2="1.005" y2="15" stroke="#222222" stroke-width="0.01"/><line id="Line 2" x1="2.005" y1="-2.18557e-10" x2="2.005" y2="15" stroke="#222222" stroke-width="0.01"/><line id="Line 3" x1="3.005" y1="-2.18557e-10" x2="3.005" y2="15" stroke="#222222" stroke-width="0.01"/><line id="Line 4" x1="4.005" y1="-2.18557e-10" x2="4.005" y2="15" stroke="#222222" stroke-width="0.01"/><line id="Line 5" x1="5.005" y1="-2.18557e-10" x2="5.005" y2="15" stroke="#222222" stroke-width="0.01"/><line id="Line 6" x1="6.005" y1="-2.18557e-10" x2="6.005" y2="15" stroke="#222222" stroke-width="0.01"/><line id="Line 7" x1="7.005" y1="-2.18557e-10" x2="7.005" y2="15" stroke="#222222" stroke-width="0.01"/><line id="Line 8" x1="8.005" y1="-2.18557e-10" x2="8.005" y2="15" stroke="#222222" stroke-width="0.01"/><line id="Line 9" x1="9.005" y1="-2.18557e-10" x2="9.005" y2="15" stroke="#222222" stroke-width="0.01"/><line id="Line 10" x1="10.005" y1="-2.18557e-10" x2="10.005" y2="15" stroke="#222222" stroke-width="0.01"/><line id="Line 11" x1="11.005" y1="-2.18557e-10" x2="11.005" y2="15" stroke="#222222" stroke-width="0.01"/><line id="Line 12" x1="12.005" y1="-2.18557e-10" x2="12.005" y2="15" stroke="#222222" stroke-width="0.01"/><line id="Line 13" x1="13.005" y1="-2.18557e-10" x2="13.005" y2="15" stroke="#222222" stroke-width="0.01"/><line id="Line 14" x1="14.005" y1="-2.18557e-10" x2="14.005" y2="15" stroke="#222222" stroke-width="0.01"/></g><g id="Group 2"><line id="Line 1_2" x1="15" y1="1.005" y2="1.005" stroke="#222222" stroke-width="0.01"/><line id="Line 2_2" x1="15" y1="2.005" y2="2.005" stroke="#222222" stroke-width="0.01"/><line id="Line 3_2" x1="15" y1="3.005" y2="3.005" stroke="#222222" stroke-width="0.01"/><line id="Line 4_2" x1="15" y1="4.005" y2="4.005" stroke="#222222" stroke-width="0.01"/><line id="Line 5_2" x1="15" y1="5.005" y2="5.005" stroke="#222222" stroke-width="0.01"/><line id="Line 6_2" x1="15" y1="6.005" y2="6.005" stroke="#222222" stroke-width="0.01"/><line id="Line 7_2" x1="15" y1="7.005" y2="7.005" stroke="#222222" stroke-width="0.01"/><line id="Line 8_2" x1="15" y1="8.005" y2="8.005" stroke="#222222" stroke-width="0.01"/><line id="Line 9_2" x1="15" y1="9.005" y2="9.005" stroke="#222222" stroke-width="0.01"/><line id="Line 10_2" x1="15" y1="10.005" y2="10.005" stroke="#222222" stroke-width="0.01"/><line id="Line 11_2" x1="15" y1="11.005" y2="11.005" stroke="#222222" stroke-width="0.01"/><line id="Line 12_2" x1="15" y1="12.005" y2="12.005" stroke="#222222" stroke-width="0.01"/><line id="Line 13_2" x1="15" y1="13.005" y2="13.005" stroke="#222222" stroke-width="0.01"/><line id="Line 14_2" x1="15" y1="14.005" y2="14.005" stroke="#222222" stroke-width="0.01"/></g></g></g><defs><clipPath id="clip0_435_97852"><rect width="15" height="15" fill="white"/></clipPath></defs></svg>';
        string memory json = string(abi.encodePacked(
            '{"name": "PixelTest ',
            _toString(tokenId),
            '", "description": "This is a test", "image": "data:image/svg+xml;base64,',
            Base64.encode(bytes(svg)),
            '"}'
        ));

        result = string(abi.encodePacked(
            "data:application/json;base64,",
            Base64.encode(bytes(json))
        ));
    
    }

}